[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Soccer Stats",
    "section": "",
    "text": "1 Introduction\ntest case",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "Dataset Repo (Source): https://github.com/JaseZiv/worldfootballR , https://jaseziv.github.io/worldfootballR/articles/extract-understat-data.html#player-data\n\n\nCode\n#install.packages('devtools')\n#devtools::install_github(\"JaseZiv/worldfootballR\")\n\n\n\n\nCode\n# devtools::install_github(\"ewenme/understatr\")\nlibrary(understatr)\n\n\nThe data has been collected by comparing multiple datasets across different sources for soccer and assesing usability and relevance. We finalised on World Football data for R. The research and comparison for the datasets was done by all three members of the group collectively while compling it was handled by Meyhar.\nThe website guiding with installation of the dataset and providing the link to the git repo has been updated recently (11/15/2024) and prior to that it was updated in June 2024. While the latest update/change in the git has been made as of 4 days ago in the readme file. The author seems to update often enough indicated by the varying time on different folders and files.\nUnder the world football data repo there is a lot of variety of data one can work with for this project we have chosen to work with the player performance in a match. This data was updated 4 months ago. We can update the match_ids to a sequence of match_id values, and we fetch the data for those match ids. If there is no data for that match_id we add a NaN row, or else we add the data of that match.\nOne problem we observed is some of the data has not been recently updated, it is as old as 2 years. Hence another reason for us to choose player performance in a specific match, it is more recently updated.\nA single match’s data can be imported using understat_match_players function of the understatr library. Below is a glimpse of how we can fetch data for match id 14788.\n\n\nCode\nlibrary(worldfootballR)\nwba_liv_players &lt;- understat_match_players(match_url = \"https://understat.com/match/14788\")\n\n\nCombining data for matches with the given match_ids\n\n\nCode\nlibrary(dplyr)\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCode\n# Define the match IDs\nmatch_ids &lt;- seq(1, 500)            #Specify the match Ids for which you want to fetch data\nmatch_list &lt;- list()\n\n# Get column names\nexample_match_url &lt;- \"https://understat.com/match/14788\"\nexample_data &lt;- tryCatch({\n  understat_match_players(match_url = example_match_url)\n}, error = function(e) {\n  data.frame() # Return an empty data frame if the example fails\n})\ndefault_columns &lt;- names(example_data)\n\n# Iterate over match IDs\nfor (id in match_ids) {\n  match_url &lt;- paste0(\"https://understat.com/match/\", id)\n  match_data &lt;- tryCatch({\n    # Attempt to fetch match data\n    understat_match_players(match_url = match_url)\n  }, error = function(e) {\n    # Handle errors by creating an NA data frame\n    message(\"Error fetching data for URL: \", match_url, \" - Adding NA row\")\n    data.frame(matrix(NA, nrow = 1, ncol = length(default_columns)),\n               stringsAsFactors = FALSE) %&gt;% \n      setNames(default_columns)\n  })\n  \n  # Add match ID to the data\n  match_data$id &lt;- id\n  match_list[[as.character(id)]] &lt;- match_data\n}\n\n\nError fetching data for URL: https://understat.com/match/1 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/2 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/3 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/4 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/5 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/6 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/7 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/8 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/9 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/10 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/11 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/12 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/13 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/14 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/15 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/16 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/17 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/18 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/19 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/20 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/21 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/22 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/23 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/24 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/25 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/26 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/27 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/28 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/29 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/30 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/31 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/32 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/33 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/34 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/35 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/36 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/37 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/38 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/39 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/40 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/41 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/42 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/43 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/44 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/45 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/46 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/47 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/48 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/49 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/50 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/51 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/52 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/53 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/54 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/55 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/56 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/57 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/58 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/59 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/60 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/61 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/62 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/63 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/64 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/65 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/66 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/67 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/68 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/69 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/70 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/71 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/72 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/73 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/74 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/75 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/76 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/77 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/78 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/79 - Adding NA row\n\n\nError fetching data for URL: https://understat.com/match/80 - Adding NA row\n\n\nCode\n# Combine all match data into a single data frame\nall_match_players &lt;- bind_rows(match_list)\n\n\nCreating csv of data\n\n\nCode\nwrite.csv(all_match_players, \"combined_match_players_0-500.csv\", row.names = FALSE)\n\n\nDATA DESCRIPTION-\nOur dataset consists of 23 columns, with the number of rows/samples depending on the specific range of match_ids included. For example, in the dataset mentioned, we used match_ids ranging from 1 to 500. It is important to note that match_ids from 1 to 80 are absent. Instead of generating an error when a match_id is missing, we implemented a tryCatch function to handle this scenario gracefully. This function checks if a match_id exists, and if it does not, it inserts a NaN value in the dataset. As a result, any NaN values in our dataset are solely due to missing match_ids; otherwise, the dataset is free of missing values or NaNs. In the case of match_ids 1 to 500, our dataset has a total of 11,654 observations, resulting in a dataset shape of 11,654 rows by 23 columns.\nThe dataset includes the following features along with their descriptions:\n•   match_id: The unique identifier for each match. If a match is not present in the dataset, this value is NaN.\n•   id: A unique identifier for each row in the dataset.\n•   team_id: The unique identifier for each team. For example, Manchester United has a team_id of 89.\n•   home_away: Indicates whether the player participated in a home or away game. h stands for a home stadium, and a stands for an away stadium.\n•   player_id: A unique identifier for each player. For instance, Sergio Romero has a player_id of 560.\n•   swap_id: An identifier related to player swaps .\n•   player: The name of the player the row data refers to.\n•   position: The position the player played in during the match (e.g., GK for Goalkeeper).\n•   positionOrder: A ranking or order related to player positions (specific details are not provided).\n•   time_played: The total minutes a player participated in the match.\n•   goals: The number of goals scored by the player during the match.\n•   own_goals: The number of own goals scored by the player in the match.\n•   shots: The number of shots taken by the player during the match.\n•   xG: Expected Goals, an estimate of the goals the player was predicted to score based on shot quality and other factors.\n•   yellow_card: The number of yellow cards received by the player during the match.\n•   red_card: Indicates if the player received a red card (a player can only receive a maximum of one red card per match).\n•   roaster_in: Whether the player was substituted into the game .\n•   roaster_out: Whether the player was substituted out of the game .\n•   key_passes: The number of key passes made by the player, which are passes that lead to a scoring opportunity.\n•   assists: The total assists made by the player during the match.\n•   xA: Expected Assists, predicting how many assists the player should have contributed in the match.\n•   xGChain: A metric indicating the cumulative expected goals involvement in possessions the player is part of.\n•   xGBuildup: Expected goals involvement in build-up play, excluding key passes and shots.\nThis dataset provides a comprehensive view of player performance and match dynamics using both traditional and advanced metrics.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  }
]